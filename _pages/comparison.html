---
title: Comparison of Centrality Measures
permalink: /comparison/
---

<p>Currently, we provide correlation comparisons between different centrality measures on 648 empirical networks from <a href="https://icon.colorado.edu/">Index of Complex Networks (ICON)</a>.</p>

<div class="image-row">
  <figure>
    <img src="https://centralityzoo.github.io/assets/images/full_corr_matrix.png" alt="Zoo of Centralities" />
  </figure>
</div>

<h1> Interactive matrix
</h1>

<input type="text" id="filterInput" placeholder="Filter labels (comma-separated exact match)" oninput="filterMatrix()" />

<div id="matrix"></div>

<script>
  let data;
  let filteredLabels = [];

  fetch('/assets/data/correlation.json')
    .then(response => response.json())
    .then(json => {
      data = json;
      filteredLabels = [...data.labels];
      renderMatrix();
    });

  function renderMatrix() {
    const container = document.getElementById('matrix');
    container.innerHTML = '';

    // Filter indices
    const indices = filteredLabels.map(label => data.labels.indexOf(label)).filter(i => i !== -1);

    // Dynamically set font size
    const numCols = indices.length;
    const fontSize = Math.max(4, 20 - 0.15 * numCols);
    const table = document.createElement('table');
    table.classList.add('correlation-table');
    table.style.fontSize = fontSize + 'px';

    // Header row
    const headerRow = document.createElement('tr');
    headerRow.appendChild(document.createElement('th')); // empty corner

    filteredLabels.forEach(label => {
      const th = document.createElement('th');
      th.textContent = label;
      th.classList.add('rotated-header');
      headerRow.appendChild(th);
    });
    table.appendChild(headerRow);

    // Data rows
    indices.forEach(rowIdx => {
      const row = document.createElement('tr');
      const rowHeader = document.createElement('th');
      rowHeader.textContent = data.labels[rowIdx];
      row.appendChild(rowHeader);

      indices.forEach(colIdx => {
        const val = data.matrix[rowIdx][colIdx];
        const td = document.createElement('td');
        td.textContent = val.toFixed(2);
        td.style.backgroundColor = getColor(val);
        row.appendChild(td);
      });

      table.appendChild(row);
    });

    container.appendChild(table);
  }

  // Exact match filtering
  function filterMatrix() {
    const input = document.getElementById('filterInput').value.trim().toLowerCase();
    if (!input) {
      filteredLabels = [...data.labels];
    } else {
      const terms = input.split(',').map(s => s.trim().toLowerCase());
      filteredLabels = data.labels.filter(label =>
        terms.includes(label.toLowerCase())
      );
    }
    renderMatrix();
  }

  // Color scale: 0 = blue, 0.5 = white, 1 = red
  function getColor(value) {
  const g = Math.round(255 * (1 - value));
  const b = Math.round(255 * (1 - value));
  return `rgb(255,${g},${b})`;
}
</script>

<style>
  table.correlation-table {
    border-collapse: collapse;
    margin-top: 10px;
  }

  table.correlation-table th,
  table.correlation-table td {
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
    min-width: 20px;
  }

  .rotated-header {
    writing-mode: vertical-lr;
    text-align: bottom;
    white-space: nowrap;
  }

  table.correlation-table th {
    background-color: #f0f0f0;
  }

  #filterInput {
    margin-bottom: 10px;
    padding: 4px;
    width: 300px;
    font-size: 14px;
  }
</style>

<p>More detailed and interactive comparisons and analysis will be added soon (TBA).</p>
